{"version":3,"sources":["components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","api.js","App.jsx","index.js"],"names":["TodoList","state","query","filteredBy","handleChange","event","target","name","value","setState","this","props","todos","selectedUser","todoCheck","input","toLocaleLowerCase","preparedTodos","filter","todo","title","includes","completed","className","placeholder","type","onChange","map","key","id","classNames","checked","userId","onClick","selectUser","React","Component","CurrentUser","user","gettingId","prevProps","fetch","then","response","json","result","data","email","phone","userDiscard","App","selectedUserId","todoId","foundTodo","find","ReactDOM","render","document","getElementById"],"mappings":"oYAKaA,EAAb,4MACEC,MAAQ,CACNC,MAAO,GACPC,WAAY,IAHhB,EAMEC,aAAe,SAACC,GAAW,IAAD,EACAA,EAAMC,OAAtBC,EADgB,EAChBA,KAAMC,EADU,EACVA,MAEd,EAAKC,SAAL,eACGF,EAAOC,KAVd,uDAcY,IAAD,SACoCE,KAAKC,MAAxCC,EADD,EACCA,MAAOC,EADR,EACQA,aAAcC,EADtB,EACsBA,UACvBC,EAAQL,KAAKT,MAAMC,MAAMc,oBAEzBC,EAAgBL,EAAMM,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAMJ,oBACnDK,SAASN,MACTG,QAAO,SAACC,GACP,MAA8B,SAA1B,EAAKlB,MAAME,YACa,IAAnBgB,EAAKG,UAGgB,UAA1B,EAAKrB,MAAME,YACa,IAAnBgB,EAAKG,UAGPH,KAGX,OACE,yBAAKI,UAAU,YACb,sCACA,2BACEC,YAAY,cACZC,KAAK,OACLC,SAAU,SAACrB,GACT,EAAKI,SAAS,CACZP,MAAOG,EAAMC,OAAOE,MAAMQ,yBAIhC,4BACET,KAAK,aACLC,MAAOE,KAAKT,MAAME,WAClBuB,SAAUhB,KAAKN,cAGf,4BAAQI,MAAM,OAAd,aAIA,4BAAQA,MAAM,SAAd,UAIA,4BAAQA,MAAM,QAAd,cAKF,yBAAKe,UAAU,4BACb,wBAAIA,UAAU,kBACXN,EAAcU,KAAI,SAAAR,GAAI,OACrB,wBACES,IAAKT,EAAKU,GACVN,UAAWO,IAAW,iBAAkB,CACtC,6BAA8BX,EAAKG,UACnC,0BAA2BH,EAAKG,aAGlC,+BACE,2BACEG,KAAK,WACLlB,KAAK,OACLwB,QAASZ,EAAKG,UACdI,SAAU,kBAAMZ,EAAUK,EAAKU,OAEjC,2BAAIV,EAAKC,QAGX,4BACEG,UAAWO,IACT,wBACA,SAEA,CAAE,kCAAmCX,EAAKa,SAAWnB,IAEvDY,KAAK,SACLQ,QAAS,WACP,EAAKtB,MAAMuB,WAAWf,EAAKa,UAT/B,gBAYYb,EAAKa,oBA/FjC,GAA8BG,IAAMC,W,8BCA7B,IAAMC,EAAb,4MACEpC,MAAQ,CACNqC,KAAM,MAFV,kEAMI5B,KAAK6B,cANT,yCASqBC,GACbA,EAAUR,SAAWtB,KAAKC,MAAMqB,QAClCtB,KAAK6B,cAXX,6CAgBI7B,KAAKD,SAAS,CAAE6B,KAAM,SAhB1B,kKCG0BT,EDiBOnB,KAAKC,MAAMqB,OChBnCS,MAAM,GAAD,OARA,yCAQA,OAAeZ,IACxBa,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAM,OAAIA,EAAOC,QDN3B,OAoBUR,EApBV,OAsBI5B,KAAKD,SAAS,CAAE6B,SAtBpB,iCCGO,IAAmBT,IDH1B,iGA0BI,IAAKnB,KAAKT,MAAMqC,KACd,OAAO,+BAFF,MAK4B5B,KAAKT,MAAMqC,KAAtC/B,EALD,EAKCA,KAAMwC,EALP,EAKOA,MAAOC,EALd,EAKcA,MAAOnB,EALrB,EAKqBA,GAE5B,OACE,oCACE,yBAAKN,UAAU,eACb,wBAAIA,UAAU,sBACZ,uDAAyBM,KAG3B,wBAAIN,UAAU,qBAAqBhB,GACnC,uBAAGgB,UAAU,sBAAsBwB,GACnC,uBAAGxB,UAAU,sBAAsByB,IAGrC,4BACEvB,KAAK,SACLQ,QAASvB,KAAKC,MAAMsC,YACpB1B,UAAU,UAHZ,cA5CR,GAAiCY,IAAMC,WEsExBc,E,4MAnEbjD,MAAQ,CACNW,MAAO,GACPuC,eAAgB,G,EAWlBF,YAAc,WACZ,EAAKxC,SAAS,CAAE0C,eAAgB,K,EAGlCrC,UAAY,SAACsC,GACX,IAAMC,EAAY,EAAKpD,MAAMW,MAAM0C,MAAK,SAAAnC,GAAI,OAAIA,EAAKU,KAAOuB,KAE5D,EAAK3C,UAAS,SAAAR,GAAK,MAAK,CACtBW,MAAOX,EAAMW,MAAMe,KAAI,SAACR,GACtB,OAAIA,EAAKU,KAAOwB,EAAUxB,GACjB,2BACFV,GADL,IAEEG,WAAYH,EAAKG,YAIdH,U,kEAxBQ,IAAD,ODTbsB,MAJM,wCAKVC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCShBF,MAAK,SAAAG,GAAM,OACpB,EAAKpC,SAAS,CACZG,MAAOiC,EAAOC,KAAK5B,QAAO,SAAAC,GAAI,OAAIA,EAAKa,iB,+BA0BnC,IAAD,SAC2BtB,KAAKT,MAA/BW,EADD,EACCA,MAAOuC,EADR,EACQA,eAEf,OACE,yBAAK5B,UAAU,OACb,yBAAKA,UAAU,gBACb,kBAAC,EAAD,CACEX,MAAOA,EACPsB,WAAY,SAACF,GACX,EAAKvB,SAAS,CAAE0C,eAAgBnB,KAElCnB,aAAcsC,EACdrC,UAAWJ,KAAKI,aAIpB,yBAAKS,UAAU,gBACb,yBAAKA,UAAU,0BACZ4B,EACC,kBAAC,EAAD,CACEnB,OAAQmB,EACRF,YAAa,WACX,EAAKxC,SAAS,CAAE0C,eAAgB,OAGlC,0B,GA5DEhB,IAAMC,WCHxBmB,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.531bcbdd.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport class TodoList extends React.Component {\n  state = {\n    query: '',\n    filteredBy: '',\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  render() {\n    const { todos, selectedUser, todoCheck } = this.props;\n    const input = this.state.query.toLocaleLowerCase();\n\n    const preparedTodos = todos.filter(todo => todo.title.toLocaleLowerCase()\n      .includes(input))\n      .filter((todo) => {\n        if (this.state.filteredBy === 'true') {\n          return todo.completed === true;\n        }\n\n        if (this.state.filteredBy === 'false') {\n          return todo.completed === false;\n        }\n\n        return todo;\n      });\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <input\n          placeholder=\"search todo\"\n          type=\"text\"\n          onChange={(event) => {\n            this.setState({\n              query: event.target.value.toLocaleLowerCase(),\n            });\n          }}\n        />\n        <select\n          name=\"filteredBy\"\n          value={this.state.filteredBy}\n          onChange={this.handleChange}\n        >\n\n          <option value=\"all\">\n            all todos\n          </option>\n\n          <option value=\"false\">\n            active\n          </option>\n\n          <option value=\"true\">\n            completed\n          </option>\n\n        </select>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {preparedTodos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames(`TodoList__item`, {\n                  'TodoList__item--unchecked': !todo.completed,\n                  'TodoList__item--checked': todo.completed,\n                })}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    name=\"done\"\n                    checked={todo.completed}\n                    onChange={() => todoCheck(todo.id)}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames(\n                    'TodoList__user-button',\n                    'button',\n                    // eslint-disable-next-line max-len\n                    { 'TodoList__user-button--selected': todo.userId === selectedUser },\n                  )}\n                  type=\"button\"\n                  onClick={() => {\n                    this.props.selectUser(todo.userId);\n                  }}\n                >\n                  {`User #${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    userId: PropTypes.number.isRequired,\n    completed: PropTypes.bool,\n  })).isRequired,\n  selectedUser: PropTypes.number.isRequired,\n  selectUser: PropTypes.func.isRequired,\n  todoCheck: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport PropTypes from 'prop-types';\nimport { getUserId } from '../../api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: null,\n  }\n\n  componentDidMount() {\n    this.gettingId();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId !== this.props.userId) {\n      this.gettingId();\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({ user: null });\n  }\n\n  async gettingId() {\n    const user = await getUserId(this.props.userId);\n\n    this.setState({ user });\n  }\n\n  render() {\n    if (!this.state.user) {\n      return <span />;\n    }\n\n    const { name, email, phone, id } = this.state.user;\n\n    return (\n      <>\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${id}`}</span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{name}</h3>\n          <p className=\"CurrentUser__email\">{email}</p>\n          <p className=\"CurrentUser__phone\">{phone}</p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.props.userDiscard}\n          className=\"button\"\n        >\n          clear\n        </button>\n      </>\n\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  userDiscard: PropTypes.func.isRequired,\n};\n","const TODOS_URL = `https://mate-api.herokuapp.com/todos`;\nconst USER_URL = `https://mate-api.herokuapp.com/users/`;\n\nexport function getTodos() {\n  return fetch(TODOS_URL)\n    .then(response => response.json());\n}\n\nexport function getUserId(id) {\n  return fetch(`${USER_URL}${id}`)\n    .then(response => response.json())\n    .then(result => result.data);\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount() {\n    getTodos().then(result => (\n      this.setState({\n        todos: result.data.filter(todo => todo.userId),\n      })\n    ));\n  }\n\n  userDiscard = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  todoCheck = (todoId) => {\n    const foundTodo = this.state.todos.find(todo => todo.id === todoId);\n\n    this.setState(state => ({\n      todos: state.todos.map((todo) => {\n        if (todo.id === foundTodo.id) {\n          return {\n            ...todo,\n            completed: !todo.completed,\n          };\n        }\n\n        return todo;\n      }),\n    }));\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={(userId) => {\n              this.setState({ selectedUserId: userId });\n            }}\n            selectedUser={selectedUserId}\n            todoCheck={this.todoCheck}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                userDiscard={() => {\n                  this.setState({ selectedUserId: 0 });\n                }}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}